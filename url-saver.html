<!DOCTYPE html>
<html>
<head>
    <title>URL K√ºt√ºphanem</title>
    <!-- Font Awesome Ikonlar -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body { 
            max-width: 800px; 
            margin: 20px auto; 
            padding: 20px; 
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f5f5f5;
        }
        .url-item { 
            margin: 15px 0; 
            padding: 15px; 
            border: none; 
            border-radius: 10px; 
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .url-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .url-item strong {
            color: #2196F3;
            font-size: 1.1em;
            word-break: break-all;
        }
        .url-item p {
            color: #666;
            margin: 8px 0;
        }
        .buttons {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }
        .icon-btn { 
            background: #f0f0f0; 
            color: #555; 
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .icon-btn:hover {
            background: #e0e0e0;
            transform: scale(1.05);
        }
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #4CAF50;
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        input, textarea { 
            width: 100%; 
            padding: 12px; 
            margin: 8px 0; 
            box-sizing: border-box;
            border: 2px solid #ddd;
            border-radius: 8px;
            transition: border-color 0.3s;
        }
        input:focus, textarea:focus {
            outline: none;
            border-color: #2196F3;
        }
        button[type="submit"] {
            padding: 12px 25px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            transition: all 0.3s;
        }
        button[type="submit"]:hover {
            background: #1976D2;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <h1>üìÅ URL Kaydedici</h1>
    
    <form id="urlForm">
        <input type="text" id="urlInput" placeholder="URL veya Metin" required><br>
        <textarea id="aciklamaInput" placeholder="A√ßƒ±klama (isteƒüe baƒülƒ±)"></textarea><br>
        <button type="submit"><i class="fas fa-save"></i> Kaydet</button>
    </form>

    <div id="urlList"></div>

    <!-- Alert Mesajƒ± -->
    <div id="alert" class="alert" style="display: none;">Kopyalandƒ±! ‚úÖ</div>

    <!-- Firebase Scriptleri -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script>
        // üî• Firebase Konfig√ºrasyonunuzu Buraya Yapƒ±≈ütƒ±rƒ±n üî•
        const firebaseConfig = {
            apiKey: "xxxxxxxxxxxxxxxxxxxx",
            authDomain: "myurlsaver.firebaseapp.com",
            projectId: "myurlsaver",
            storageBucket: "myurlsaver.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Verileri G√∂ster
        function loadURLs() {
            db.collection("links")
                .orderBy("tarih", "desc")
                .get()
                .then((query) => {
                    const list = document.getElementById('urlList');
                    list.innerHTML = '';
                    query.forEach((doc) => {
                        const data = doc.data();
                        const tarih = data.tarih ? new Date(data.tarih.toDate()).toLocaleString('tr-TR') : '';
                        const urlText = data.url;
                        const isURL = urlText.startsWith('http://') || urlText.startsWith('https://');
                        
                        list.innerHTML += `
                            <div class="url-item">
                                <strong>${isURL ? `<a href="${urlText}" target="_blank">${urlText}</a>` : urlText}</strong>
                                ${data.aciklama ? `<p>${data.aciklama}</p>` : ''}
                                <small>Eklenme: ${tarih}</small>
                                <div class="buttons">
                                    <button class="icon-btn" onclick="copyText('${urlText}')" title="Kopyala">
                                        <i class="fas fa-copy"></i> Kopyala
                                    </button>
                                    <button class="icon-btn" onclick="deleteURL('${doc.id}')" title="Sil">
                                        <i class="fas fa-trash"></i> Sil
                                    </button>
                                </div>
                            </div>
                        `;
                    });
                });
        }

        // Yeni Kayƒ±t Ekle
        document.getElementById('urlForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const url = document.getElementById('urlInput').value;
            const aciklama = document.getElementById('aciklamaInput').value;
            
            try {
                await db.collection("links").add({ 
                    url: url,
                    aciklama: aciklama,
                    tarih: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                loadURLs();
                e.target.reset();
            } catch (error) {
                alert('Kayƒ±t eklenirken bir hata olu≈ütu!');
                console.error('Hata:', error);
            }
        });

        // URL Sil
        window.deleteURL = (id) => {
            if(confirm("Silmek istediƒüinize emin misiniz?")) {
                db.collection("links").doc(id).delete();
                loadURLs();
            }
        }

        // Metni Kopyala - Modern yakla≈üƒ±m
        window.copyText = async (text) => {
            try {
                await navigator.clipboard.writeText(text);
                const alert = document.getElementById('alert');
                alert.style.display = 'block';
                setTimeout(() => alert.style.display = 'none', 2000);
            } catch (err) {
                alert('Kopyalama i≈ülemi ba≈üarƒ±sƒ±z oldu!');
                console.error('Kopyalama hatasƒ±:', err);
            }
        }

        loadURLs();
    </script>
</body>
</html>